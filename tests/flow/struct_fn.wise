include lib/wise/runtime;
include tools/flowc/backends/wise/lib/tuple;

printi(v : i32) -> () { printlni32(v) }

printi2(v : i32) -> i32 { printlni32(v); 15; }


 export _start() -> () {
	initMemory();
// test 1
	v : i32 = {createStruct[((i32) -> ())](2, (printi,))};
	//getStructValue[(i32, i32, (i32) -> ())](v).2(1);

// test 2
	v2 : i32 = createStruct[((i32) -> i32)](1, (printi2,));

	fn2 : (i32) -> i32 = getStructValue[(i32, i32, (i32) -> i32)](v2).2;
	res2 : i32 = fn2(1989);

	res : i32 = getStructValue[(i32, i32, (i32) -> i32)](v2).2(647);

	();
}
